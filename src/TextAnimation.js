import React, { useState } from 'react'
import { useSpring, animated } from '@react-spring/web'

import styles from './styles.module.css'

const AnimFeTurbulence = animated('feTurbulence')
const AnimFeDisplacementMap = animated('feDisplacementMap')

function TextAnimation(props) {
  const [open, toggle] = useState(false)
  const [{ freq, factor, scale, opacity }] = useSpring(
    () => ({
      reverse: open,
      from: { factor: 10, opacity: 0, scale: 0.9, freq: '0.0175, 0.0' },
      to: { factor: 150, opacity: 1, scale: 1, freq: '0.0, 0.0' },
      config: { duration: 3000 },
    }),
    [open]
  )

  return (
    <div className={styles.container} onClick={() => toggle(!open)}>
      <animated.svg className={styles.svg} style={{ scale, opacity }} viewBox="0 0 169.9 64.5">
        <defs>
          <filter id="water">
            <AnimFeTurbulence type="fractalNoise" baseFrequency={freq} numOctaves="2" result="TURB" seed="8" />
            <AnimFeDisplacementMap
              xChannelSelector="R"
              yChannelSelector="G"
              in="SourceGraphic"
              in2="TURB"
              result="DISP"
              scale={factor}
            />
          </filter>
        </defs>
        <g filter="url(#water)">
          <path
          d="M 31.6 2.9 L 31.2 4.7 L 30.5 4.8 Q 27.7 3.4 24.7 2.7 A 28.669 28.669 0 0 0 21.911 2.186 A 20.918 20.918 0 0 0 19.2 2 A 19.028 19.028 0 0 0 14.832 2.481 A 15.081 15.081 0 0 0 10.8 4.05 A 15.574 15.574 0 0 0 7.206 6.821 A 13.588 13.588 0 0 0 5.3 9.35 A 14.082 14.082 0 0 0 3.764 13.054 A 12.136 12.136 0 0 0 3.4 16 A 10.81 10.81 0 0 0 3.89 19.31 A 9.293 9.293 0 0 0 5.3 22.05 Q 7.2 24.6 9.95 26.25 A 60.425 60.425 0 0 0 11.879 27.355 Q 14.231 28.65 17.6 30.3 Q 23 33 26.15 35 Q 29.3 37 31.55 40.15 A 11.966 11.966 0 0 1 33.617 45.343 A 15.937 15.937 0 0 1 33.8 47.8 Q 33.8 52.2 31.4 56.05 A 16.989 16.989 0 0 1 25.03 61.999 A 20.104 20.104 0 0 1 24.75 62.15 A 19.493 19.493 0 0 1 17.151 64.321 A 23.67 23.67 0 0 1 15.2 64.4 A 27.548 27.548 0 0 1 8.984 63.668 A 32.026 32.026 0 0 1 7.2 63.2 A 23.924 23.924 0 0 1 2.303 61.181 A 20.715 20.715 0 0 1 0 59.7 L 0.1 57.8 L 0.6 57.6 A 20.537 20.537 0 0 0 7.136 61.085 A 23.386 23.386 0 0 0 7.5 61.2 A 27.02 27.02 0 0 0 12.753 62.281 A 23.507 23.507 0 0 0 15.1 62.4 A 19.542 19.542 0 0 0 20.247 61.745 A 16.586 16.586 0 0 0 23.85 60.3 A 16.726 16.726 0 0 0 27.523 57.629 A 14.186 14.186 0 0 0 29.75 54.85 A 13.711 13.711 0 0 0 31.6 50.078 A 12.946 12.946 0 0 0 31.8 47.8 A 12.054 12.054 0 0 0 31.361 44.479 A 9.826 9.826 0 0 0 29.8 41.3 Q 27.8 38.6 24.95 36.8 Q 22.23 35.082 17.552 32.818 A 153.687 153.687 0 0 0 17.1 32.6 A 141.514 141.514 0 0 1 14.007 31.038 Q 11.057 29.5 9.033 28.229 A 41.153 41.153 0 0 1 8.75 28.05 Q 5.7 26.1 3.55 23.05 Q 1.4 20 1.4 15.7 Q 1.4 11.4 3.7 7.8 A 15.903 15.903 0 0 1 9.286 2.542 A 19.115 19.115 0 0 1 10.1 2.1 A 19.141 19.141 0 0 1 16.792 0.14 A 23.819 23.819 0 0 1 19.4 0 A 26.971 26.971 0 0 1 27.936 1.434 A 33.766 33.766 0 0 1 31.6 2.9 Z M 101.9 42.9 L 101.4 56.7 Q 101.4 59.245 102.055 60.597 A 3.65 3.65 0 0 0 102.25 60.95 A 2.785 2.785 0 0 0 104.212 62.234 A 4.48 4.48 0 0 0 105 62.3 A 5.745 5.745 0 0 0 106.139 62.18 A 7.77 7.77 0 0 0 107.15 61.9 A 7.231 7.231 0 0 0 108.898 61.022 A 6.69 6.69 0 0 0 109.2 60.8 L 109.8 61.1 L 109.4 62.9 Q 107.4 64.3 104.9 64.3 A 7.064 7.064 0 0 1 103.333 64.138 Q 102.315 63.906 101.58 63.344 A 3.984 3.984 0 0 1 100.8 62.55 A 5.382 5.382 0 0 1 100.083 61.168 Q 99.579 59.777 99.442 57.666 A 24.094 24.094 0 0 1 99.4 56.7 L 99.1 56.7 Q 96.1 60.2 92.7 62.3 A 16.227 16.227 0 0 1 89.744 63.755 A 11.931 11.931 0 0 1 86 64.5 A 15.841 15.841 0 0 1 82.648 64.167 Q 80.523 63.707 78.926 62.611 A 9.02 9.02 0 0 1 77.65 61.55 A 9.671 9.671 0 0 1 75.132 57.013 Q 74.741 55.487 74.704 53.677 A 18.596 18.596 0 0 1 74.7 53.3 Q 74.7 49.7 76.85 47.2 A 9.823 9.823 0 0 1 80.297 44.665 A 13.789 13.789 0 0 1 82.9 43.8 L 100.1 39.8 L 100.4 30 Q 100.4 26.41 98.912 24.104 A 7.553 7.553 0 0 0 97.85 22.8 A 8.218 8.218 0 0 0 94.388 20.813 Q 93.103 20.428 91.559 20.332 A 17.027 17.027 0 0 0 90.5 20.3 Q 87.814 20.3 84.688 21.663 A 22.769 22.769 0 0 0 83.95 22 A 28.82 28.82 0 0 0 80.052 24.278 A 38.351 38.351 0 0 0 76.8 26.8 L 76.2 26.6 L 75.7 25.1 A 33.9 33.9 0 0 1 79.674 22.031 A 26.659 26.659 0 0 1 83.25 20.05 A 20.911 20.911 0 0 1 86.782 18.794 A 15.58 15.58 0 0 1 90.6 18.3 A 17.624 17.624 0 0 1 94.036 18.614 Q 97.295 19.262 99.35 21.25 Q 102.292 24.095 102.396 29.219 A 18.667 18.667 0 0 1 102.4 29.6 Q 102.4 32.296 102.066 39.463 A 1004.883 1004.883 0 0 1 101.9 42.9 Z M 67.1 59.8 L 67.5 60.1 L 67.3 61.9 Q 62.9 64.4 59.3 64.4 A 10.78 10.78 0 0 1 56.36 64.021 A 7.792 7.792 0 0 1 52.35 61.4 Q 49.9 58.4 49.9 52.8 L 49.9 20.8 L 43.7 20.8 L 43.3 20.4 L 43.6 18.8 L 49.9 18.8 L 49.9 8 L 51.5 7.4 L 51.9 7.7 L 51.9 18.8 L 67.4 18.8 L 67.7 19.2 L 67.4 20.8 L 51.9 20.8 L 51.9 52.7 A 18.643 18.643 0 0 0 52.086 55.423 Q 52.494 58.181 53.8 59.9 A 6.172 6.172 0 0 0 58.061 62.319 A 9.169 9.169 0 0 0 59.3 62.4 A 12.332 12.332 0 0 0 63.638 61.577 Q 65.216 60.988 66.827 59.975 A 21.609 21.609 0 0 0 67.1 59.8 Z M 169.3 59.8 L 169.7 60.1 L 169.5 61.9 Q 165.1 64.4 161.5 64.4 A 10.78 10.78 0 0 1 158.56 64.021 A 7.792 7.792 0 0 1 154.55 61.4 Q 152.1 58.4 152.1 52.8 L 152.1 20.8 L 145.9 20.8 L 145.5 20.4 L 145.8 18.8 L 152.1 18.8 L 152.1 8 L 153.7 7.4 L 154.1 7.7 L 154.1 18.8 L 169.6 18.8 L 169.9 19.2 L 169.6 20.8 L 154.1 20.8 L 154.1 52.7 A 18.643 18.643 0 0 0 154.286 55.423 Q 154.694 58.181 156 59.9 A 6.172 6.172 0 0 0 160.261 62.319 A 9.169 9.169 0 0 0 161.5 62.4 A 12.332 12.332 0 0 0 165.838 61.577 Q 167.416 60.988 169.027 59.975 A 21.609 21.609 0 0 0 169.3 59.8 Z M 140.5 19 L 140.5 20.9 L 140 21.1 Q 138.5 20.8 137.3 20.8 A 8.192 8.192 0 0 0 133.373 21.841 Q 132.194 22.476 131.039 23.5 A 16.415 16.415 0 0 0 130.5 24 A 22.858 22.858 0 0 0 128.219 26.614 Q 126.065 29.458 123.87 33.763 A 74.998 74.998 0 0 0 123.8 33.9 L 123.8 64 L 121.8 64 L 121.8 19.1 L 123.8 18.7 L 123.8 29.8 L 124.2 29.8 Q 126.378 25.865 128.655 23.362 A 18.368 18.368 0 0 1 130.6 21.5 A 12.261 12.261 0 0 1 133.994 19.496 A 10.592 10.592 0 0 1 137.8 18.8 Q 139.1 18.8 140.5 19 Z M 100 41.9 L 83.4 45.8 A 12.699 12.699 0 0 0 81.204 46.555 Q 79.907 47.147 78.956 48.001 A 7.497 7.497 0 0 0 78.45 48.5 A 6.558 6.558 0 0 0 76.753 52.322 A 8.816 8.816 0 0 0 76.7 53.3 A 12.159 12.159 0 0 0 77.003 56.095 A 8.09 8.09 0 0 0 79.15 60.05 A 8.098 8.098 0 0 0 83.134 62.204 A 12.186 12.186 0 0 0 85.9 62.5 A 10.231 10.231 0 0 0 89.477 61.823 Q 91.086 61.225 92.75 60.1 A 24.193 24.193 0 0 0 96.318 57.12 Q 97.848 55.585 99.306 53.659 A 40.156 40.156 0 0 0 99.5 53.4 L 100 41.9 Z"
          fill='lightblue'/>
        </g>
      </animated.svg>
    </div>
  )
}

export default TextAnimation;